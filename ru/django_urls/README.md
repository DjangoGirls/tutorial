# Django URLs

Мы собираемся создать нашу первую веб-страницу: домашнюю страницу для вашего блога! Но сначала давайте немного узнаем о URL-адресах Django.

## Что такое URL-адрес?

URL — это просто адрес в интернете. Ты можешь видеть URL каждый раз при посещении веб-сайта - он отображается в адресной строке. (Да! `127.0.0.1:8000` это URL-адрес! И `https://djangogirls.org` — тоже URL.)

![URL](images/errorpng)

Любая страница в Интернете нуждается в собственном URL-адресе. Таким образом, ваше приложение знает, что оно должно показать пользователю, который открывает этот URL-адрес. В Django, мы используем кое-что под названием `URLconf` (URL configuration). URLconf — это набор шаблонов, которые Django попробует сопоставить с полученным URL, чтобы выбрать правильный метод для отображения (view).

## Как URL-адреса работают в Django?

Давай откроем файл `mysite/urls.py` в нашем редакторе и посмотрим, как он выглядит:

{% filename %}mysite/urls.py{% endfilename %}

```python
"""mysite URL Configuration

[...]
"""
from django.contrib import admin
from django.urls import path

urlpatterns = [
    path('admin/', admin.site.urls),
]
```

Как можешь заметить, Django уже кое-что разместил здесь для нас.

Строки между тройными кавычками (`'''` или `"""`) называются строчками документации - ты можешь написать их вверху файла, класса или метода, для того чтобы объяснить, что оно делает. Интерпретатор Python пропустит их при выполнении скрипта.

URL-адрес администрирования, который мы посещали в предыдущей главе, уже здесь присутствует:

{% filename %}mysite/urls.py{% endfilename %}

```python
    path('admin/', admin.site.urls),
```

Эта черточка означает, что для каждого URL-адреса, начинающегося с `admin`, Django найдет соответствующий ему *view* (представление). В этом случае мы охватываем большое количество различных URL-адресов, которые явно не прописаны в этом маленьком файле -- так гораздо аккуратней и более читабельно.

## Твой первый URL-адрес в Django!

Пришло время создать твой первый URL-адрес! Мы хотим, чтобы 'http://127.0.0.1:8000/' возвращал домашнюю страничку нашего блога со списком записей в ней.

Мы также хотим сохранить файл `mysite/urls.py` в максимально аккуратном виде, так что мы импортируем URL-адреса для нашего приложения `blog` в файл `mysite/urls.py`.

Вперёд, добавь строку для импорта `blog.urls`. Обрати внимание, что здесь мы используем функцию `include`, поэтому тебе придется импортировать её в строке `from django.urls...`.

Ваш файл `mysite/urls.py` должен выглядеть следующим образом:

{% filename %}mysite/urls.py{% endfilename %}

```python
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('blog.urls')),
]
```

Django теперь будет перенаправлять все запросы 'http://127.0.0.1:8000/' к `blog.urls` и искать там дальнейшие инструкции.

## blog.urls

Создайте новый пустой файл с именем `urls.py` в каталоге `blog` и откройте его в редакторе кода. Хорошо! Добавьте эти две первые строки:

{% filename %}blog/urls.py{% endfilename %}

```python
from django.urls import path
from . import views
```

Так мы импортировали все методы Django `path` и все `views` (представления) из приложения `blog` (у нас их пока нет, но через минуту они появятся!)

После этого мы можем добавить наш первый URL-шаблон:

{% filename %}blog/urls.py{% endfilename %}

```python
urlpatterns = [
    path('', views.post_list, name='post_list'),
]
```

Как ты можешь заметить, мы связали `view` с именем `post_list` и корневой URL-адрес. Этот шаблон URL-адреса будет соответствовать пустой строке и URL распознаватель Django будет игнорировать имя домена (например, http://127.0.0.1:8000 /), с префиксом полного пути url. Этот шаблон скажет Django, что `views.post_list` — это правильное направление для запроса к твоему веб-сайту расположенного по адресу 'http://127.0.0.1:8000/'.

Последняя часть `name='post_list'` — это имя URL, которое будет использовано чтобы идентифицировать представление (view). Оно может быть таким же, как имя представления (англ. view), а может и чем-то совершенно другим. Мы будем использовать именованные URL позднее в проекте, так что, важно указывать их имена в приложении уже сейчас. Мы также должны попытаться сохранить имена URL-адресов уникальными и легко запоминающимися.

Если вы попытаетесь зайти на http://127.0.0.1:8000 теперь, то вы сможете увидите сообщение, что-то вроде «веб-страницы не доступны». Это потому, что сервер (Помните, набрав `runserver`?) больше не работает. Взгляните на окно консоли вашего сервера, чтобы выяснить, почему.

![Ошибка](images/error1.png)

Ваша консоль показывает ошибку, но не волнуйтесь – это на самом деле очень полезно: вам сообщают, что **no attribute 'post_list'** ("отсутствует атрибут 'post_list'"). Это имя *view*, что Django пытается найти и использовать, но мы его еще не создали. На данном этапе ваша `/admin/` также не будет работать. Не беспокойся, мы этим займемся. Если вы видите другое сообщение об ошибке, попробуйте перезагрузить веб-сервер. Для этого в окне консоли, где запущен веб-сервер, останови его нажатием клавиш Ctrl+C (клавиши Control и C вместе). В Windows можешь нажать Ctrl+Break. Затем тебе надо перезапустить веб-сервер при помощи команды `python manage.py runserver`.

> Если хочешь узнать больше о Django URLconfs, посмотри официальную документацию: https://docs.djangoproject.com/en/2.2/topics/http/urls/